///////////////////////////////////////////////////////////////////////////////////
// Created: 05.11.2023
// Author: Deathman
// Nocturning studio for NS Project X
///////////////////////////////////////////////////////////////////////////////////
#include "common.h"
///////////////////////////////////////////////////////////////////////////////////
uniform sampler2D s_previous_image;
uniform float m_blur_power;
///////////////////////////////////////////////////////////////////////////////////
float4 main (float2 TexCoords: TEXCOORD0): COLOR0
{
    float MotionBlurPower = clamp (m_blur_power, 0.0h, 0.35f);

	float4 CurrentImageColor = tex2Dlod0 (s_image, TexCoords) * (1.0h - MotionBlurPower);
	float4 PreviousImageColor = tex2Dlod0 (s_previous_image, TexCoords) * MotionBlurPower;

    return CurrentImageColor + PreviousImageColor;
}
///////////////////////////////////////////////////////////////////////////////////