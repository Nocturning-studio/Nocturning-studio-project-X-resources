//////////////////////////////////////////////////////////////////////////////////////////
// Created: 27.10.2024
// Author: Deathman
// Nocturning studion for NS Project X
//////////////////////////////////////////////////////////////////////////////////////////
#include "common.xrh"
#include "bloom_common.xrh"
//////////////////////////////////////////////////////////////////////////////////////////
#define BLOOM_SAMPLES_COUNT 2
//////////////////////////////////////////////////////////////////////////////////////////
float4 main(float2 TexCoords : TEXCOORD0) : COLOR0
{
    float2 PixelSize = bloom_resolution.zw;
    
    float4 BlurredColor = NULL;
    
    for (int y = -BLOOM_SAMPLES_COUNT / 2; y < BLOOM_SAMPLES_COUNT / 2; y++)
    {
        BlurredColor += tex2Dlod0(s_bloom_blades, TexCoords + PixelSize * float2(0, y));
    }
    
    return BlurredColor / BLOOM_SAMPLES_COUNT;
}
//////////////////////////////////////////////////////////////////////////////////////////