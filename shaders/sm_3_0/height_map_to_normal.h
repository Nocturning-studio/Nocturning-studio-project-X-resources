////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Created: 06.08.2023
// Height map to Normal map convert function by ChatGPT
// Nocturning studio for NS Project X
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef HEIGHT_TO_NORMAL_INCLUDED
#define HEIGHT_TO_NORMAL_INCLUDED
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#define HEIGHT_VALUE 1
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
float3 convert_height_to_normal(float HeightMap)
{
    float DUHeightMap = ddx(HeightMap);
    float DVHeightMap = ddy(HeightMap);
    float3 HeightToNormal = normalize(cross(float3(1, 0, DUHeightMap), float3(0, 1, DVHeightMap)));
    return (HeightToNormal * 0.5 + 0.5) * HEIGHT_VALUE;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#endif // HEIGHT_TO_NORMAL_INCLUDED
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
