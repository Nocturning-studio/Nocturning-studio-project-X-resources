///////////////////////////////////////////////////////////////////////////////////
// Created: 02.12.2023
// Author: Deathman
// Nocturning studio for NS Project X
///////////////////////////////////////////////////////////////////////////////////
#include "common.h"
///////////////////////////////////////////////////////////////////////////////////
float4 main (float2 TexCoords: TEXCOORD0): COLOR0
{
    float4 SceneColor = tex2D (s_image, TexCoords);
    
    float Exposure = max (tex2Dlod0 (s_autoexposure, float2 (0.5f, 0.5f)).r, 1.0h);
    Exposure = pow (Exposure, 2.2f);
    
    return SceneColor * Exposure;
}
///////////////////////////////////////////////////////////////////////////////////