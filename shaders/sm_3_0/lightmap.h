////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Created: 06.08.2023
// Author: Deathman
// Nocturning studio for NS Project X
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "common.h"
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef LIGHTMAP_INCLUDED
#define LIGHTMAP_INCLUDED
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct LightMapData
{
    vector AO;
    vector Sun;
};
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
LightMapData Unpack_LightMap(vector2 LightMapUV)
{
    LightMapData Output;

    vector4 LightmapData = tex2D(s_hemi, LightMapUV);

    vector AO = avg3(LightmapData.rgb);
    Output.AO = AO * AO_BRIGHTNESS;
    Output.Sun = LightmapData.a;

    return Output;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#endif // LIGHTMAP_INCLUDED
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
