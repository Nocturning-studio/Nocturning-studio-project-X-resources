////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Created: 06.08.2023
// Author: Deathman
// Nocturning studio for NS Project X
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "common.h"
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef LIGHTMAP_INCLUDED
#define LIGHTMAP_INCLUDED
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct LightMapData
{
    float AO;
    float Sun;
};
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
LightMapData Unpack_LightMap(float2 LightMapUV)
{
    LightMapData Output;

    float4 LightmapData = tex2D(s_hemi, LightMapUV);

    float AO = avg3(LightmapData.rgb);
    Output.AO = AO * AO_BRIGHTNESS;
    Output.Sun = LightmapData.a;

    return Output;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#endif // LIGHTMAP_INCLUDED
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
