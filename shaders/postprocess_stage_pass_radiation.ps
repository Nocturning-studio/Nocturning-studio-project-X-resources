//////////////////////////////////////////////////////////////////////////////////////////
//	Created		: 30.11.2024
//	Author		: Deathman
//	NSProjectX Nocturning Studio - 2024
//////////////////////////////////////////////////////////////////////////////////////////
#include "common.xrh"
//////////////////////////////////////////////////////////////////////////////////////////
uniform float2 noise_intesity;
//////////////////////////////////////////////////////////////////////////////////////////
// Deathman - get radiation particle intersection with camera matrix
//////////////////////////////////////////////////////////////////////////////////////////
float4 main(float2 TexCoords : TEXCOORD0, int2 Position2D : VPOS) : COLOR
{
    float result = 0.0f;
    
    if(noise_intesity.x > 0.0f)
    {
        float3 noiseCol = hash33(TexCoords);
        noiseCol *= 2.0;
        noiseCol -= 1.0;
        noiseCol *= 1.1;
    
        float Factor = noise_intesity.x * noise_intesity.y;
    
        if ((noiseCol.r > 0.75f) && (noiseCol.g > invert(Factor)) && (noiseCol.b < Factor))
            result += 1.0f;
    }
    
    return result;
}
//////////////////////////////////////////////////////////////////////////////////////////
